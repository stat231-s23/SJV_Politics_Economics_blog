---
title: "Exploring Factors that Contribute to Country Development"
author: "Shreya, Jesse, Victor"
date: "05/03/2023"
output:
  rmdformats::readthedown:
    highlight: "kate"
---

```{r setup, include = FALSE}
# Set code chunk defaults 
# Consider adding `message = FALSE` option
knitr::opts_chunk$set(echo = FALSE) 
                      
# Set R environment options
options(knitr.kable.NA = '')

# Load packages
library(tidyverse)
library(dplyr)
library(sf)
library(viridis)
library(maps)
library(ggplot2)
library(purrr)
library(giscoR)
library(heatmaply)
library(htmlwidgets)

library(kableExtra)
library(zoo)
library(ggrepel)
library(broom)
library(GGally)
library(sf)
library(gapminder)
```

# Intro

This is an R Markdown blog template. This document will be knit to HTML to produce a webpage that will be hosted publicly via GitHub.

## Website publication work flow

1. Edit Rmd

2. Knit to HTML to view progress. You may need to click "Open in Browser" for some content to show (sometimes content won't show until you actually push your changes to GitHub and view the published website).

3. Commit and push changes when you are ready. The website may take a couple minutes to update automatically after the push, but you may need to clear your browser's cache or view the page in a private/incognito window to see the changes more quickly. 


You can include text, `code`, and output as usual. Remember to take full advantage of Markdown and follow our [Style Guide](https://acstat231-f22.github.io/home/style-guide.html#Text_narration).



Examples and additional guidance are provided below. 

Take note of the the default code chunk options in the `setup` code chunk. For example, unlike the rest of the Rmd files we worked in this semester, the default code chunk option is `echo = FALSE`, so you will need to set `echo  = TRUE` for any code chunks you would like to display in the blog. You should be thoughtful and intentional about the code you choose to display. 


# Education and the World: Literacy rates, Human Development Index, and their relationship

You can include [links](https://www.datadreaming.org/post/r-markdown-theme-gallery/) using Markdown syntax as shown. 

You should include links to relevant sites as you write. You should additionally include a list of references as the end of your blog with full citations (and relevant links).
```{r, fig.align="left", out.width="100%"}
unempData <- read.csv("data/wrangled.csv")
lm_eqn <- function(df){
    m <- lm(Human.Development.Index ~ Expected.Years.of.Schooling, df);
    eq <- substitute(italic(y) == a + b %.% italic(x)*","~~italic(r)^2~"="~r2, 
         list(a = format(unname(coef(m)[1]), digits = 2),
              b = format(unname(coef(m)[2]), digits = 2),
             r2 = format(summary(m)$r.squared, digits = 3)))
    as.character(as.expression(eq));
}
unempData1 <- unempData %>% na.omit(region)
unempData1 %>% ggplot(aes(x = Expected.Years.of.Schooling, y = Human.Development.Index)) + geom_point( aes(color = region)) +
  geom_smooth(method='lm') +
  geom_text(x = 12, y = 1.1, label = lm_eqn(unempData1), parse = TRUE) +
  labs(
    x = "Expected Years of Schooling",
    y = "Human Development Index",
    color = "Continent"
  )

```

## Human Development Index (HDI) and Education

In the world map below, countries are colored according to their Human Development Index score. Each country is assigned an HDI score-a number between 0 and 1, designed, in a rough sense, to measure quality of life. Notice that countries further from the equator are more likely to have a high HDI score than countries closer to the equator. This trend shows up as a visual gradient on the map: the further from the equator, the higher the HDI score, the more blue the countries appear. But this is not a general rule. The term "Gloabl South" is often used to describe a collection of so-called "under-developed" countries near the equator and south of it, a collection which the map below suggests. 

However, his map is quite one dimensional. Just what exactly does HDI tell us? What, in concrete terms, does "human development" mean? The goal of the following analysis is to shed light on HDI through other measures, in particular those related to literacy rates and population density.

```{r, fig.align="left", out.width="100%"}
gisco_countries <- gisco_get_countries() %>% select(-c(CNTR_ID, CNTR_NAME ,NAME_ENGL))
unempData2 <- unempData %>% full_join(gisco_countries, by = c("CODE" = "ISO3_CODE"))
ggplot(unempData2, aes(geometry=geometry, fill = Human.Development.Index)) +
  geom_sf() +
  scale_fill_viridis(option = "turbo", direction = -1) + 
  theme_void() + 
  labs(
    fill = "HDI",
    title = "Human Development Index (HDI) of Countries",
    subtitle = "2021",
    caption = "Source: World Bank"
  )
```


# Literacy Rate and HDI

We begin our inquiry into HDI and education by asking: Which is a better predictor of literacy rates - HDI, or average number of years of education? More over, what does it mean if HDI predicts literacy rates better than average number of years of education?

For each country, we can find an expected number of years of schooling; this is the number of years  the average student attends school. In countries where the average years of schooling is higher, we expect to find higher average literacy rates. 

For each continent, we calculated two correlation coefficient. First, we found the correlation between HDI score and literacy rate; in other words, how well does HDI predict literacy rate for that continent. Second, we found the correlation between average years of education and literacy rate; in other words, how well does years of schooling predict literacy rate for that continent. 

Next, for each continent, we found the difference between these two correlations. The interesting results are those where this difference is small. A small difference in these two values means that "development" is as good a predictor of literacy rates as years of education. A small difference indicates that non-educational "developmental" factors are influencing literacy rates.
```{r}
Education_Literacy <- unempData %>%
  select(region, Country, `Expected.Years.of.Schooling`, latestRate) %>%
  drop_na() 

#The "as.numeric" numeric function: https://www.educative.io/answers/what-is-the-asnumeric-function-in-r
#What is happening with Europe?
Education_Literacy_cor <- Education_Literacy %>%
  group_by(region) %>%
  summarize(r_education = cor(latestRate, as.numeric(`Expected.Years.of.Schooling`))) %>% 
left_join(Education_Literacy, Education_Literacy_cor, by = c("region" = "region"))


HDI_Literacy <-unempData %>%
  select(region, Country, `Human.Development.Index`, latestRate) %>%
  drop_na()

HDI_Literacy_cor <- HDI_Literacy %>%
  group_by(region) %>%
  summarize(r_HDI = cor(latestRate, as.numeric(`Human.Development.Index`))) %>%
  left_join(HDI_Literacy, HDI_Literacy_cor, by = c("region" = "region")) %>%
  select(r_HDI, Country, `Human.Development.Index`)

HDI_Education <- left_join(Education_Literacy_cor, HDI_Literacy_cor, by = c("Country" = "Country")) %>%
  #negative means that education is a better predictor of literacy, positive means HDI is better.
  mutate(diff = r_HDI - r_education)

Density <- unempData %>%
  select(Country, density)

HDI_Education2 <- HDI_Education %>%
  left_join(Density, HDI_Education, by = c("Country" = "Country"))


```

```{r}

data(gapminder)

world_map2 <- maps::map("world", plot = FALSE, fill = TRUE) %>% st_as_sf()

HDI_Education_map <- HDI_Education2 %>%
  right_join(world_map2, by = c("Country" = "ID"))


##Plotting difference between r_education and r_HDI on a world map
ggplot(HDI_Education_map, aes(geometry=geom, fill = diff)) +
  geom_sf() +
  theme_void() +
  scale_fill_distiller(palette = "Spectral") +
  labs(fill = "Difference"
       , title = "Where is HDI a better predictor of literacy rate than years of education?",
       subtitle = "Years: 2021, 2023"
       , caption = "Source: world bank data set") 



#One problem with this initial analysis is that it is quite granular. However, the map does bring to light the delineation between the "Global North" and "Global South." In the southern hemisphere, the "Global South," HDI and education are nearly equal predictors of literacy rate. This tracks with the idea that in so-called "under-developed" regions of the world---and HDI *is* lower in the global south---obstacles to literacy are not purely educational. That is, in places where eduaction and HDI are comparable predictors of literacy, extra-educational aspects are predicting literacy rate. 




```
Observe that two continents, South America and Africa, are picked out as having a smaller difference. This means that in these two continents, extra educational factors are influencing literacy rates. This observation tracks with the delineation into "Global South" and "Global North" indicated by the plot of HDI. That is, the literacy rates of South America and Africa, continents situated in the Global South, suffer from extra-educational factors. 

One problem with this analysis is that it is not granular. It gives us a view of the world that is split into seven, when in reality, the world has far more than seven borders. 

Our next analysis clusters countries according to literacy rate and population density. The goal of the analysis is to show that the division into Global North and Global South is inadequate to understand differences in literacy rates. In other words, the delineation into North and South indicated by HDI is a simplification - the actual situation is more complicated. 

Before this analysis can proceed, we first make an observation about the relationship between population density and literacy rates. Compare the plots of Population Density vs. Literacy Rate, and Log of Population Density vs. Literacy Rate. Observe that a line of best fit on the first plot would be exponential, while in the second, a line of best fit would be linear. This suggests that for the purposes of clustering, it would be appropriate to cluster Log of Population Density against Literacy Rate.



```{r}
#JESSE
#Creating a data table to perform a clustering analysis based on literacy rate and population density.
Literacy_density <- unempData %>%
  select(Country, latestRate, density) %>% #can add HDI and years of education too. #can color by cluster.
  drop_na()

#This did work!
Literacy_densityLog <- Literacy_density %>%
  mutate(density = log(density))
#Now I scale density:

#I just removed the last line here so that country remains. But then the elbow plot doesn't work - I believe because the variable country is not numeric.
Literacy_density_scaled <- Literacy_densityLog %>% 
  mutate(across(where(is.numeric),  ~scale(.)[,1], .names = "{.col}_scaled")) %>%
  drop_na() %>%
  select(latestRate_scaled, density_scaled)

Literacy_density_scaled_with_countries <- Literacy_densityLog %>% 
  mutate(across(where(is.numeric),  ~scale(.)[,1], .names = "{.col}_scaled")) %>%
  drop_na()


#Because the Literacy vs. Log(Density) plot is more spread out, it is better to cluster on Log(Density) instead of Density.And as we see below, this is the case. So it appears to make sense to cluster on Log(Density)

#Literacy rate vs. Density plot: 
ggplot(data = Literacy_density, aes(x = latestRate, y = density)) +
             geom_point(size = 2) +
            #Labels and title for the scatter plot
             labs (y = "Population Density",
                   x = "Literacy Rate",
                   title = "Population Density vs. Literacy Rate")

#Literacy rate vs. scaled Log(Density)
ggplot(data = Literacy_density_scaled, aes(x = latestRate_scaled, y = density_scaled)) +
             geom_point(size = 2) +
            #Labels and title for the scatter plot
             labs (y = "Population Density",
                   x = "Literacy Rate",
                   title = "Population Density vs. Literacy Rate")



#to ensure the analysis is reproducible
set.seed(23)

# I want to create an elbow plot...this is the code used in lab 11, clustering.
elbow_plot <- tibble(k = 1:10) %>%
  mutate(
    # List-column of 10 kmeans objects 
    # (apply `kmeans()` to each value of `k`)
    kmeans_results = purrr::map(k, ~kmeans(Literacy_density_scaled, .x)),
    # List-column of "glanced" model summaries for each kmeans object
    # (apply `glance()` to each corresponding result after running `kmeans()`)
    glanced = purrr::map(kmeans_results, glance)) %>% 
  # Turn `glanced` list-column into regular tibble columns
  unnest(cols = c(glanced))

# Construct elbow plot
ggplot(elbow_plot, aes(x = k, y = tot.withinss)) +
  geom_point() + 
  geom_line() +
  scale_x_continuous(breaks = 1:10) +
  labs(x = "Number of clusters (k)", 
       y = "Total within-cluster sum of squares")

# The elbow plot shows that three clusters are appropriate.


```

The elbow plot shows that a cluster analysis using three clusters is most appropriate. The plot below associates each country with one of three clusters. The first cluster, 1, consists of countries with high literacy rate and low population density. The second cluster, 2, consists of countries with high literacy rate and high density. The third cluster, 3, consists of countries with low literacy rate. Notice that this third cluster ranges over a wide variety of population densities. 

```{r}
LD_kmeans2 <- Literacy_density_scaled %>%
  kmeans(centers = 3, nstart = 20)

LD_kmeans2_summaries <- tidy(LD_kmeans2)
LD_kmeans2_summaries

LD_augmented <- augment(LD_kmeans2, Literacy_density_scaled) %>%
  drop_na()

ggplot(LD_augmented, aes(x = latestRate_scaled, y = density_scaled)) + 
  geom_point(aes(color = .cluster, shape = .cluster)) +
  scale_x_continuous(breaks = scales::breaks_width(25)) +
  scale_y_continuous(breaks = scales::breaks_width(25)) +
  # Add centroid labels to plot
  geom_label(data = LD_kmeans2_summaries, aes(label = cluster, color = cluster),
             size = 3,
             label.r = unit(0.5, "lines"),
             label.size = 1.5,
             label.padding = unit(0.5, "lines"),
             show.legend = FALSE) +
  labs(x = "Literacy rate standardized",
       y = "Density standardized",
       color = "Cluster",
       shape = "Cluster") +
  theme_classic()

```
The following map colors each country according to its cluster assignment. What is interesting about this map is that it shows how groups of contiguous countries are likely to fall into the same cluster. What does this mean? As an example, examine the pair of North African countries, Algeria and Libya. These two countries are near the equator, and in our previous analysis, were part of the group described as the Global South. 

Whereas HDI assigns a bare number to each country, the map below expresses relationships between a country's position, its population density, and its literacy rate. Notice that there are pockets of contries from the same cluster, that is, contries from a given cluster tend to be surrounded by others from the same cluster.


```{r}
Country_and_Clusters <- inner_join(Literacy_density_scaled_with_countries, LD_augmented, by = c("density_scaled" = "density_scaled")) %>%
  select(Country, .cluster)

data(gapminder)
world_map2 <- maps::map("world", plot = FALSE, fill = TRUE) %>% st_as_sf()
Literacy_rate_cluster_map <- Country_and_Clusters %>%
  right_join(world_map2, by = c("Country" = "ID"))

ggplot(Literacy_rate_cluster_map, aes(geometry=geom, fill = .cluster)) +
  geom_sf() +
  theme_void() +
  labs(fill = "Cluster"
       , title = "Literacy rates vs. population density, colored by cluster",
       subtitle = "Years: 2021, 2023"
       , caption = "Source: world bank data set") 

```
Even though, in certain places, HDI is as good a predictor of literacy rate as years of education, this analysis obscures the fact that regional factors are at play. It simply is not the case that a single number, weather HDI or expected years of education, can capture the whole situation regarding the literacy of a country. The reason for this is made clear by the map below: the situation regarding literacy in one country does not depend only on that country - so numbers examining countries in isolation are wont to express the sitation. The map below, in which pockets of similar countries emarge geographically grouped together, testifies to this interrelationship. HDI is an excellent tool for examining a country in its isolation. But comprehending the literacy situation in a given country, as the map above demonstrates, requires looking beyond the borders of that country

## Visualizations 

Visualizations, particularly interactive ones, will be well-received. That said, do not overuse visualizations. You may be better off with one complicated but well-crafted visualization as opposed to many quick-and-dirty plots. Any plots should be well-thought-out, properly labeled, informative, and visually appealing.

If you want to include dynamic visualizations or tables, you should explore your options from packages that are built from [**htmlwidgets**](https://www.htmlwidgets.org/showcase_leaflet.html). These **htmlwidgets**-based packages offer ways to build lighterweight, dynamic visualizations or tables that don't require an R server to run! A more complete list of packages is available on the linked website, but a short list includes:

* [**plotly**](https://plot.ly/r/): Interactive graphics with D3
* [**leaflet**](https://rstudio.github.io/leaflet/): Interactive maps with OpenStreetMap
* [**dygraphs**](http://rstudio.github.io/dygraphs): Interactive time series visualization
* [**visNetwork**](http://dataknowledge.github.io/visNetwork): Network graph visualization vis.js
* [**sparkline**](https://github.com/htmlwidgets/sparkline): Small inline charts
* [**threejs**](https://github.com/bwlewis/rthreejs): Interactive 3D graphics
    
You may embed a published Shiny app in your blog if useful, but be aware that there is a limited window size for embedded objects, which tends to makes the user experience of the app worse relative to a dedicated Shiny app page. Additionally, Shiny apps will go idle after a few minutes and have to be reloaded by the user, which may also affect the user experience. 

Any Shiny apps embedded in your blog should be accompanied by the link to the published Shiny app (I did this using a figure caption in the code chunk below, but you don't have to incorporate the link in this way).

```{r ds-salaries-app, out.width = "100%", out.extra = 'data-external="1" frameborder="no"', fig.cap = "[Data Science Salaries Shiny App](https://bebailey.shinyapps.io/data-science-salaries)"}
knitr::include_app("https://bebailey.shinyapps.io/data-science-salaries",
                   height = "300px")
```


## Tables

### **DT** package

The [**DT** package](https://rstudio.github.io/DT/) is great for making dynamic tables that can be displayed, searched, and filtered by the user without needing an R server or Shiny app!

Note: you should load any packages you use in the `setup` code chunk as usual. The `library()` functions are shown below just for demonstration.

```{r dt-example, message=FALSE, echo=TRUE}
library(DT)
mtcars %>% 
  select(mpg, cyl, hp) %>% 
  datatable(colnames = c("MPG", "Number of cylinders", "Horsepower"),
            filter = 'top',
            options = list(pageLength = 10, autoWidth = TRUE))
```

### **kableExtra** package

You can also use [**kableExtra**](https://cran.r-project.org/web/packages/kableExtra/vignettes/awesome_table_in_html.html) for customizing HTML tables.

```{r kable-example, echo=TRUE, message=FALSE}
library(kableExtra)
summary(cars) %>%
  kbl(col.names = c("Speed", "Distance"),
      row.names = FALSE) %>%
  kable_styling(bootstrap_options = "striped",
                full_width = FALSE) %>%
  row_spec(0, bold = TRUE) %>%
  column_spec(1:2, width = "1.5in") 
```


## Images

Images and gifs can be displayed using code chunks:

```{r, fig.cap='"Safe Space" by artist Kenesha Sneed', out.width="80%", fig.align="center"}
knitr::include_graphics("img/Kenesha-Sneed_safe-space.jpeg")
```


```{r, fig.cap="This is a figure caption", out.width="50%", fig.align="center"}
knitr::include_graphics("https://media.giphy.com/media/H7ZrrA9V2pd3Tehdds/giphy.gif")
```

You may also use Markdown syntax for displaying images as shown below, but code chunks offer easier customization of the image size and alignment.

![This is another figure caption](https://media.giphy.com/media/8i5IvxP9ZLgmjXN1BF/giphy.gif)

Either way, the file path can be a local path within your project directory or a URL for an image hosted online. This syntax works for PNG, PDF, JPG, and even GIF formats.


## Videos

You can use code chunks or Markdown syntax include links to any valid YouTube or Vimeo URLs (see [here](https://bookdown.org/yihui/rmarkdown/learnr-videos.html) for details) or point to a location within your project directory. 

Code chunk:

```{r, out.width="80%", fig.align="center"}
knitr::include_url("https://www.youtube.com/watch?v=up8ODGFWgFg")
```

Markdown syntax:

![](https://www.youtube.com/watch?v=up8ODGFWgFg){width="90%"}


You may need to push your updates to GitHub to see if the videos work.




## Equations

You might include equations if part of the purpose of your blog is to explain a statistical method. There are two ways to include equations:

* Inline: $b \sim N(0, \sigma^2_b)$
* Display-style (displayed on its own line): 
$$\frac{\sigma^2_b}{\sigma^2_b + \sigma^2_e}$$

For typesetting equations appropriately, check out the [AMS-LaTeX quick reference](https://github.com/manuelemacchia/math-latex/blob/master/amsmath.pdf) or take a look at the *Symbols in math mode* section of this  [cheat sheet](https://users.dickinson.edu/~richesod/latex/latexcheatsheet.pdf)  (or do some extra Googling---there are *many* resources).



# Formatting

## Tabbed subsections {.tabset}

Each subsection below the "Tabbed subsections" section heading will appear in a tab. See R Markdown Cookbook [Section 7.6: Put content in tabs](https://bookdown.org/yihui/rmarkdown-cookbook/html-tabs.html) for additional customization options. 

### Bulleted list

You can make a bulleted list like this:

* item 1
* item 2
* item 3


### Numbered list


You can make a numbered list like this

1. First thing I want to say
2. Second thing I want to say
3. Third thing I want to say



## Column formatting

<!-- Begin columns environment -->
:::::: {style="display: flex; font-size: large;"}

<!-- Create a column -->
::: {}
### Content Column 1

Lorem ipsum dolor sit amet, consectetur adipiscing elit. Suspendisse vel ipsum eu sem facilisis porttitor. Integer eu tristique lectus. Vestibulum nisi risus, porta sit amet cursus nec, auctor ac tellus. Integer egestas viverra rhoncus. Fusce id sem non ante vestibulum posuere ac sed lorem. Proin id felis a mi pellentesque viverra in at nulla. Duis augue nulla, aliquet ac ligula a, sagittis varius lorem.



:::

<!-- Create another column (this one is just adding horizontal space to separate content) -->
::: {}
<div class="horizontalgap" style="width:60px"></div>
:::

<!-- Create another column -->
::: {}

### Content Column 2

Aliquam non ante et erat luctus hendrerit eu ac justo. Fusce lacinia pulvinar neque non laoreet. Fusce vitae mauris pharetra, scelerisque purus eget, pharetra nisl. Aenean volutpat elementum tortor vitae rhoncus. Phasellus nec tellus euismod neque congue imperdiet tincidunt in mauris. Morbi eu lorem molestie, hendrerit lorem nec, semper massa. Sed vulputate hendrerit ex, eget cursus purus. Pellentesque consequat erat leo, eleifend porttitor lacus porta at. Vivamus faucibus quam ipsum, id condimentum ligula malesuada ultrices. Nullam luctus leo elit, vitae rutrum nibh venenatis eget. Nam at sodales purus. Proin nulla tellus, lacinia eget pretium sed, vehicula aliquet neque. Morbi vel eros elementum, suscipit elit eu, consequat libero. Nulla nec aliquet neque. Nunc bibendum sapien lectus, sed elementum nisi rutrum non. Ut vulputate at lacus eget maximus.

```{r, out.width="80%", fig.align="right"}
mtcars %>% 
  ggplot(aes(x = wt, y = mpg)) +
  geom_point()
```

:::
::::::
<!-- End columns environment with matching length indicator-->




# Customizing your blog design


As a *final* detail **only** if you have time, you can explore options for customizing the style of your blog. By default, we are using the `readthedown` theme from the [**rmdformats** package](https://github.com/juba/rmdformats) (see Line 6 of this file if you want to switch out themes).


## Theme
You can use the [**rmdformats** package](https://github.com/juba/rmdformats) to play around with some pre-built themes. There are, I'm sure, many many many more similar packages with built in themes, or you can look into how to include a CSS code chunk to customize aspects of a theme.  

Using the **rmdformats** package, you can change the theme itself (Line 6): 

* `rmdformats::readthedown`
* `rmdformats::downcute` 
  * For `downcute` only, you can add a new indented line below Line 6 with the code `downcute_theme: "chaos"` for the `downcute chaos` theme
* `rmdformats::robobook` 
* `rmdformats::material`

You can explore additional YAML options by looking at the [**rmdformats** package](https://github.com/juba/rmdformats) page or running, for example, `?rmdformats::readthedown()` to see the help documentation for a particular theme from the package. 

## Synax highlighting

You can also change the code chunk syntax highlighting option (Line 7, `highlight`): 

* `"default"`
* `"tango"`
* `"pygments"`
* `"kate"`
* `"monochrome"`
* `"espresso"`
* `"zenburn"`
* `"haddock"`
* `"textmate"` 
* `NULL` for no syntax highlighting (not recommended)

## Font size, type, and other customization

Further customization requires adding a CSS style file or code chunk or incorporating other development options. Customization beyond the **rmdformats** package should be your lowest and final priority for the project. Ensure your content is fully prepared first.


# References

All data sources, any key R packages, and any other sources used in developing your blog should be cited in full in a list of references at the end of your blog. Your blog post should also link to these sources as they are discussed. You may choose any reference style as long as sources are fully cited (try to be consistent!).

Typically, references in R Markdown (and LaTeX) files are [incorporated with a BibTeX database](https://bookdown.org/yihui/rmarkdown-cookbook/bibliography.html) (a .bib file). You can try this approach or manually include either a numbered or alphabetized list. 

Columbia University has compiled some guidance on [how to cite data](https://guides.library.columbia.edu/datacitation). Some data sources will give you the citation information to copy and paste. Use the provided citations or citation styles in those cases.

You can list R package citations with the code `citation("packageName")` in the console and then copy (and reformat as needed) the relevant text, e.g.,
```{r}
citation("DT")
```

The following citations are based on the American Statistical Association citation style (not all of these references are used in this document).:


<!-- Textbook -->
Baumer, B. S., Kaplan, D. T., and Horton, N. J. (2021), *Modern Data Science with R* (2nd ed.), Boca Raton, FL: CRC Press.

<!-- Journal article -->
Broman, K. W. and Woo, K. H. (2018), "Data Organization in Spreadsheets," *The American Statistician*, 72:1, 2-10, doi: [10.1080/00031305.2017.1375989](https://doi.org/10.1080/00031305.2017.1375989)

<!-- Website -->
Columbia University Libraries (n.d.), "Data Citation," available at <https://guides.library.columbia.edu/datacitation>.

<!-- Journal article -->
McNamara, A. and Horton N. J. (2018) "Wrangling Categorical Data in R," *The American Statistician*, 72:1, 97-104, doi: [10.1080/00031305.2017.1356375](https://doi.org/10.1080/00031305.2017.1356375).

<!-- Dataset -->
Shah, Syed A. A. (October 2022), "Starbucks Drinks" (Version 1), *Kaggle*, available at <https://www.kaggle.com/datasets/syedasimalishah/starbucks-drinks>.

<!-- R package -->
Xie Y, Cheng J, Tan X (2022). "DT: A Wrapper of the JavaScript Library 'DataTables'," R package version 0.24, available at <https://CRAN.R-project.org/package=DT>.

# Breaking Barriers: Key Factors for Measuring Women's Progress Across Countries

### Why wont HDI suffice?

Amartya Sen, a Nobel laureate and renowned economist, once quoted, "empowering women is the key to building the future we want." This simple yet powerful statement highlights the significance of gender equality and its impact on human development. The notion of human development is rooted in the idea of expanding people's choices, enabling them to fulfill their potential, and giving them the freedom to lead lives they value. However, the reality is that women's choices and freedoms are not equally and they continue to be marginalized across the globe. 

While countries with higher HDI ranks are generally associated with greater levels of freedom and empowerment, the reality is more complex. For instance, a country's overall HDI score may mask significant disparities in gender inequality within its population. In many countries, women continue to face discrimination in areas such as education, employment, and political representation, despite their nation's high HDI ranking. Moreover, the cultural and social norms prevalent in a country can significantly impact the empowerment of women, even in countries with high HDI scores. Therefore, while HDI rankings can provide a broad measure of a country's level of human development, it is crucial to examine specific indicators that measure the empowerment of women to gain a more nuanced understanding of gender inequality across the globe.

To gain a better understanding of the complex issues that women face worldwide, we will analyze standardized indicators of women's empowerment across countries based on their population and HDI rank. This analysis will reveal the factors that contribute to gender inequality and highlight areas for improvement to advance women's empowerment and create a more equitable society.

```{r, echo=FALSE}
# world map with GII indicators.


```
### Indicators of Women's Empowerment

We will look into four key indicators of Women's Empowement measure

1) Adolescent Birth Rate: This metric measures the number of births per 1,000 women between the ages of 15 and 19 in a given year. A high adolescent birth rate is often an indicator of poor sexual and reproductive health outcomes for young women, and can also be a barrier to educational and economic opportunities.

2) Political Participation: This metric measures the extent to which women are involved in political decision-making processes, including representation in elected offices, participation in political parties, and involvement in civil society organizations. Women's political participation is important for ensuring that their voices and perspectives are heard in policy-making processes.

3) Labor Participation: This metric measures the percentage of women who are employed or seeking employment in the labor force. A low labor force participation rate can be an indicator of limited economic opportunities for women, which can in turn contribute to poverty and economic inequality.

4) Secondary Level Education: The women's indicator of secondary level education is a metric that measures the percentage of women in a given population who have completed secondary education. This indicator is often used as a measure of women's educational attainment and their access to educational opportunities.

### Heatmap: HDI, Polulation, Key indicators of Women's Empowerment

```{r, message=FALSE, echo=FALSE}
htmltools::tags$iframe(src="heatmap.html", width="100%", height="500")
```


This heatmap represents data on different indicators of women's empowerment across 30 most popullous countries, ranked according to their HDI (highest HDI rank in the top and lowest in the bottom). Each row and column of the heatmap represents a different country and a specific indicator, respectively. The colors in the heatmap represent different values of each indicator, with the lighter shades indicating lower values and the darker shades indicating higher values. The values are standardized to make the intepretations easier. For Example, darker colors indicate that a particular country is doing better on that indicator compared to countries with lighter colors. Additionally, dendrograms are included at the top and left sides of the heatmap, which show how countries and indicators are clustered together based on similarities in their values.

### Key Interpretations
* The heatmap shows that there is generally a negative correlation between adolescent birthrate and HDI ranking, meaning that countries with higher development tend to have lower adolescent birthrates. However, the heatmap shows that it is not always the case. Some of the exceptions are Uganda and Nigeria, which have high adolescent birthrates despite their moderate development levels. Conversely, some countries with lower HDI rankings, such as India and Algeria, have lower adolescent birthrates

* The heatmap reveals that women's political participation is not consistently correlated with a country's HDI ranking. Contrary to the common belief that higher HDI ranking equates to greater political participation for women, the data shows that this is not always the case. For instance, countries like Mexico, with a lower HDI ranking, exhibit higher women's political participation compared to Japan, which has a higher HDI ranking but a lower participation rate.
This suggests that factors other than development, such as cultural and social norms, may play a role in determining women's political participation. Therefore, a more nuanced and context-specific approach is necessary to understand the complex interplay between development and women's political participation.

* The heatmap shows a strong positive correlation between women's labor force participation and HDI ranking. Countries with higher HDI rankings tend to have higher labor force participation rates for women, while those with lower HDI rankings tend to have lower participation rates. However, it is worth noting that there are still significant disparities in women's labor force participation rates within and across countries, even among those with high HDI rankings. 

* The education level column of the heatmap, specifically reflecting the metric of women's completion of secondary education, shows a positive correlation with HDI. In general, countries with higher HDI rankings tend to have higher rates of women completing secondary education, indicating greater access to educational opportunities and greater potential for personal and professional growth. However, there are exceptions to this trend. One such exception is Ethiopia, which ranks relatively high in the HDI spectrum but has very low rates of women completing secondary education. This indicates that while Ethiopia has made progress in areas such as healthcare and income, it may face challenges in ensuring equal access to education for women.

 


