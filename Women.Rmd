```{r}
library(tidyverse)
library(kableExtra)
library(dplyr)
library(zoo)
library(readxl)
library(factoextra)
library(cluster)
```

```{r}
#CREATING THE TABLE WITH ALL VALUES I NEED

#importing the GII dataset
GIIraw <- read_excel("data/GII.xlsx", col_names = TRUE, skip = 2)

#removing the na values plus selecting relevant columns
GII <- GIIraw %>% 
  select(...1, ...2, ...3, ...5) %>% 
  drop_na()
#renaming the columns
colnames(GII) <- c("HDI_rank", "Country", "GII_value", "GII_rank")
#check the type of value for the column. apparently its charecter
class(GII$`GII Value`)
#hence converting to numeric before rounding the column
GII$`GII_value` <- as.numeric(GII$`GII_value`)
round(GII$`GII_value`, digits = 1)

#importing HDI table
HDI_raw <- read.csv("data/HDR21-22Table 1.csv", skip =6, head = TRUE)

HDI <- HDI_raw %>% 
  select("X.1", "X2021")
colnames(HDI) <- c("Country", "HDI_value")

GIIHDI <- GII %>% 
  left_join(HDI, by = "Country") %>% 
  select("Country", "HDI_value", "HDI_rank", "GII_value", "GII_rank") #rearranging columns
```
```{r}
#Adding adoloscent birth rate

Adoloscent_birth <- GIIraw %>% 
  select("...2", "SDG3.7")

colnames(Adoloscent_birth) <- c("Country", "Adol_birthrate")

GIIHDI <- GIIHDI %>% 
  left_join(Adoloscent_birth, by = "Country")
  
```

```{r}
#Adding Share of seats in parliament

Parliament <- GIIraw %>% 
  select("...2", "SDG5.5")

colnames(Parliament) <- c("Country", "Parliament")

GIIHDI <- GIIHDI %>% 
  left_join(Parliament, by = "Country")
```

```{r}
#Adding Population of women with at least some secondary education

Secondary <- GIIraw %>% 
  select("...2", "SDG4.4")

colnames(Secondary) <- c("Country", "Secondary")

GIIHDI <- GIIHDI %>% 
  left_join(Secondary, by = "Country")
```

```{r}
#Adding Labour Force participation

LabourForce <- GIIraw %>% 
  select("...2", "...17")

colnames(LabourForce) <- c("Country", "LF_Part")

GIIHDI <- GIIHDI %>% 
  left_join(LabourForce, by = "Country")
```

